<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>استفاده از zustand برای بهبود مدیریت state ها</title>
</head>
<body>
    <article>
        <header>
            <h1>استفاده از zustand برای بهبود مدیریت state ها</h1>
            <p class="meta">Published on December 05, 2025 by فرشید</p>
        </header>
        <div class="content">
                <nav class="toc-container bg-gray-50 border rounded-md p-4 mb-6" aria-label="Table of contents">
  <p class="font-semibold mb-2">Contents</p>
  <ul class="toc-list">
    <li class="toc-item toc-h2"><a class="toc-link text-sm text-blue-600 hover:underline" href="#zustand">چرا zustand ؟</a></li>
    <li class="toc-item toc-h2"><a class="toc-link text-sm text-blue-600 hover:underline" href="#zustand-1">فلسفه عملکردی zustand</a></li>
    <li class="toc-item toc-h2"><a class="toc-link text-sm text-blue-600 hover:underline" href="#zustand-2">اولین گام zustand</a></li>
    <li class="toc-item toc-h2"><a class="toc-link text-sm text-blue-600 hover:underline" href="#section">منابع</a></li>
  </ul>
</nav>

<h2 id="zustand">چرا zustand ؟</h2>
<p>وقتی صحبت از مدیریت stateها در اپلیکیشن‌های react ای سناریوهای مختلف و کاربری‌های مختلفی ایجاد میشه که توی مقاله فلان راجه بهش مفصل صحبت کردیم.
همونطور که اونجا گفتیم، برای مدیریت s</p>
<p>کار با zustand خیلی راحت و باحاله، الو از همه بگذارید راجع به فلسفه کارکردی zustand یکم صحبت کنیم و اینکه چجوری داره کار می‌کنه؟</p>
<h2 id="zustand-1">فلسفه عملکردی zustand</h2>
<p>وقتی شما با zustand یک store در جایی می سازی در حقیقت در run-time جاوااسکریپت یه محدوده ای می‌سازی که داخلش چیزهایی که می‌خوای رو ذخیره می‌کنی. یعنی یه چیزی شبیه این شکل زیری</p>
<p><img src="/images/assets/zustand1.webp" alt="Zustand run-time assets" /></p>
<p>اول بگم ‌lifecycle این store کاملا به ‌‌‌run-time شما بستگی داره یعنی اگر صفحه رو reload کنید قاعدتا این store پاک میشه مگر اینکه جای دیگه ای هم persist بشه که موضوع بحث ما فعلا نیست.
همونطور که توی شکل بالام مشخصه اپلیکیشن شما هر حرکتی بزنه دخلی(!) به این store به طور معمول نداره جون space یا فضای حافظه و run-time شون جداست.</p>
<p>حالا از این ببعدش جالب میشه، شما وقتی zustand رو به طور مثال در برنامه react تون استفاده می‌کنید یه wrapper ای از جنس stateهای react دورش ایجاد میشه که فرآیندهای آپدیت و rendering در react بدین وسیله handle میشه.</p>
<p>شکل زیر تقریبی از چیزی است که اتفاق می‌افته. به عبارتی برای اینکه react بتونه rendering رو برعهده بگیره نیازی به چیزی که براش آشناست یعنی همون stateها داره. حالا ما هربار که useStore رو استفاده کنیم(بعدا خواهیم گفت)، در حقیقت کنترل re-render و render رو برعهده می‌گیریم.</p>
<p><img src="/images/assets/zustand2.webp" alt="Zustand React model" /></p>
<h2 id="zustand-2">اولین گام zustand</h2>
<p>Zustand یه کتابخونهٔ مدیریت state کم‌حجم ولی واقعاً پرقدرتِ. برای ساختن state کافیه متد <code>create</code> رو صدا بزنید:</p>
<pre><code class="language-javascript">import { create } from &quot;zustand&quot;;
</code></pre>
<p>ببینید، توضیح دادن گاهی سخته — نشون دادن راحت‌تر و گویا‌تره:</p>
<pre><code class="language-typescript">export const useTasksStore = create&lt;TasksState&gt;((set) =&gt; ({
    tasks,
    setTasks: (arg: Task[] | ((tasks: Task[]) =&gt; Task[])) =&gt; {
        set((state) =&gt; {
            return {
                tasks: typeof arg === &quot;function&quot; ? arg(state.tasks) : arg,
            };
        });
    },
    currentView: &quot;list&quot;,
    setCurrentView: (newView: TasksView) =&gt; set({ currentView: newView }),
    currentFilter: &quot;&quot;,
    setCurrentFilter: (newFilter: string) =&gt; set({ currentFilter: newFilter }),
}));
</code></pre>
<p>ما به <code>create</code> یه تابع می‌دیم که همون state رو برمی‌گردونه. همین — ساده و بی‌پیرایه. اون تابع معمولاً یه آرگومان می‌گیره (معمولاً <code>set</code>) که باهاش می‌تونید state رو به‌روزرسانی کنید؛ هم به‌صورت setter ساده، هم با توجه به مقدار قبلی که خیلی وقت‌ها مفیده.</p>
<h2 id="section">منابع</h2>
<ul>
<li><a href="https://frontendmasters.com/blog/introducing-zustand/">Introducing Zustand</a></li>
<li><a href="https://zustand.docs.pmnd.rs/">Zustand Documentation</a></li>
</ul>

        </div>
    </article>
</body>
</html>